(function(e){function t(t){for(var o,r,l=t[0],s=t[1],c=t[2],p=0,d=[];p<l.length;p++)r=l[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={index:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/ant-dynamic-form/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("c31f")},"0544":function(e,t,n){"use strict";var o=n("9675"),a=n.n(o);a.a},"0878":function(e,t,n){},"094b":function(e,t,n){},"0b43":function(e,t,n){"use strict";var o=n("8afe"),a=n.n(o);a.a},"0e0b":function(e,t,n){"use strict";var o=n("6a07"),a=n.n(o);a.a},"0e2d":function(e,t,n){"use strict";var o=n("f6b7"),a=n.n(o);a.a},"0f06":function(e,t,n){"use strict";var o=n("cef9"),a=n.n(o);a.a},"17d7":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var o={type:"radio",desc:"大小",options:[{value:"small",label:"较小"},{value:"default",label:"中等"},{value:"large",label:"较大"}]},a={type:"number",desc:"最大长度",placeholder:"可支持输入的最大字符长度"},i={type:"input",desc:"填充内容",placeholder:"没有任何输入时的填充内容"}},"1d92":function(e,t,n){},"232a":function(e,t,n){var o={"./a-collapse.js":"7dfb","./a-row.js":"7190","./a-steps.js":"7aef","./a-tabs.js":"f211"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id="232a"},"289a":function(e,t){e.exports=vuedraggable},2980:function(e,t,n){},"2e9f":function(e,t,n){"use strict";var o=n("0878"),a=n.n(o);a.a},"30d2":function(e,t,n){"use strict";var o=n("86c6"),a=n.n(o);a.a},"336b":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-input",e._g(e._b({},"a-input",e.$attrs,!1),e.inputListeners),[n("template",{slot:"prefix"},[e.hasPrefixTip?n("a-tooltip",{attrs:{placement:"topLeft",title:e.prefix.tip}},[n("merge-icon",{attrs:{type:e.prefix.icon}})],1):e.prefix?n("merge-icon",{attrs:{type:e.prefix}}):e._e()],1),n("template",{slot:"suffix"},[e.hasSuffixTip?n("a-tooltip",{attrs:{placement:"topRight",title:e.suffix.tip}},[n("merge-icon",{attrs:{type:e.suffix.icon}})],1):e.suffix?n("merge-icon",{attrs:{type:e.suffix}}):e._e()],1)],2)},a=[],i=n("53ca"),r=n("e6eb"),l={name:"AIconInput",components:{MergeIcon:r["a"]},props:{prefix:{type:[Object,String],default:function(){return null}},suffix:{type:[Object,String],default:function(){return null}}},computed:{inputListeners:function(){var e=this;return Object.assign({},this.$listeners,{input:function(t){e.$emit("input",t.target.value)},change:function(t){e.$nextTick((function(){return e.$emit("change",t)}))}})},hasPrefixTip:function(){return this.prefix&&"object"===Object(i["a"])(this.prefix)},hasSuffixTip:function(){return this.suffix&&"object"===Object(i["a"])(this.suffix)}}},s=l,c=n("2877"),u=Object(c["a"])(s,o,a,!1,null,null,null),p=u.exports;t["a"]=p},3880:function(e,t,n){"use strict";var o=n("cd24"),a=n.n(o);a.a},"3fee":function(e,t,n){},4174:function(e,t,n){"use strict";var o=n("944a"),a=n.n(o);a.a},"49c2":function(e,t){e.exports=vuescroll},"4e72":function(e,t){e.exports=antd},6215:function(e,t,n){"use strict";var o=n("d2dd"),a=n.n(o);a.a},6290:function(e,t,n){"use strict";var o=n("2980"),a=n.n(o);a.a},"6a07":function(e,t,n){},7190:function(e,t,n){"use strict";n.r(t),t["default"]={component:"ARow",icon:"custom-zhage",name:"栅格",props:{type:{type:"radio",desc:"布局类型",options:[{value:null,label:"默认布局"},{value:"flex",label:"弹性布局"}]},align:{type:"radio",desc:"垂直排列",options:[{value:"top",label:"上对齐"},{value:"middle",label:"居中对齐"},{value:"bottom",label:"下对齐"}]},gutter:{type:"number",desc:"栅格间隔"},justify:{type:"select",desc:"水平排列",options:[{value:"start",label:"左对齐"},{value:"center",label:"居中"},{value:"end",label:"右对齐"},{value:"space-around",label:"两端对齐"},{value:"space-between",label:"间隔相等"}]}},initProps:{type:null,align:"top",gutter:16,justify:"center"},itemProps:{},initItemProps:{}}},7903:function(e,t,n){"use strict";var o=n("094b"),a=n.n(o);a.a},"7aef":function(e,t,n){"use strict";n.r(t);var o=n("17d7");t["default"]={component:"ASteps",icon:"custom-biaoqian",name:"步骤条",props:Object.assign({size:o["c"]},{direction:{type:"radio",desc:"步骤条类型",options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"竖直"}]},labelPlacement:{type:"radio",desc:"标签放置位置",options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"竖直"}]}}),initProps:{direction:"horizontal",labelPlacement:"horizontal",size:"default"},itemProps:{name:{type:"input",desc:"标题",placeholder:"步骤条的主标题"},subTitle:{type:"input",desc:"子标题",placeholder:"步骤条的二级标题"},description:{type:"input",desc:"详情描述",placeholder:"步骤条的详细描述"},customIcon:{type:"icon",desc:"图标",placeholder:"步骤条的展示图标"},group:{type:"checkGroup",desc:"其他",options:[{value:"disabled",label:"禁用该步骤"}]}},initItemProps:{disabled:!1}}},"7c8d":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4de4"),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("c975"),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__),registerUsuallyRegex=[{type:"number",title:"数字类校验",options:[{title:"数字",regex:/^[0-9]*$/},{title:"n位数字",regex:/^\d{n}$/},{title:"至少n位",regex:/^\d{n,}$/},{title:"m-n位",regex:/^\d{m,n}$/},{title:"正数、负数、和小数",regex:/^(\\-|\+)?\d+(\.\d+)?$/},{title:"非零的正整数",regex:/^[1-9]\d*$/},{title:"非零的负整数",regex:/^-[1-9]\d*$/}]},{type:"string",title:"字符类校验",options:[{title:"汉字",regex:/^[\u4e00-\u9fa5]{0,}$/},{title:"英文和数字",regex:/^[A-Za-z0-9]+$/},{title:"仅有英文字母",regex:/^[A-Za-z]+$/},{title:"仅有大写字母",regex:/^[A-Z]+$/},{title:"仅有小写字母",regex:/^[a-z]+$/}]},{type:"other",title:"特殊",options:[{title:"邮箱",regex:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/},{title:"手机号码",regex:/^([1][3,4,5,6,7,8,9])\d{9}$/},{title:"电话号码",regex:/^((\d{3,4}-)|\d{3.4}-)?\d{7,8}$/},{title:"国内电话",regex:/\d{3}-\d{8}|\d{4}-\d{7}/},{title:"身份证",regex:/^((\d{18})|([0-9x]{18})|([0-9X]{18}))$/},{title:"账号",regex:/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/},{title:"密码",regex:/^[a-zA-Z]\w{5,17}$/},{title:"日期",regex:/^\d{4}-\d{1,2}-\d{1,2}/},{title:"邮政编码",regex:/[1-9]\d{5}(?!\d)/},{title:"IP地址",regex:/\d+\.\d+\.\d+\.\d+/}]}];__webpack_exports__["a"]={name:"RuleInput",components:{},props:{value:{type:[RegExp,String,Number],default:null}},data:function(){return{registerUsuallyRegex:registerUsuallyRegex,ruleValue:null,filterRegex:[]}},computed:{usuallyRegexOptions:function(){return this.registerUsuallyRegex.map((function(e){return{type:e.type,title:e.title,options:e.options.map((function(e){return{trigger:["change","blur"],title:e.title,regex:String(e.regex)}}))}}))}},watch:{value:{handler:function(e){e&&(this.ruleValue=String(e))},deep:!0,immediate:!0},ruleValue:{handler:function handler(val){var value="";try{value=eval(val)}catch(error){}this.$emit("change",value),this.$emit("input",value)}}},methods:{handleSearch:function(e){this.filterRegex=e?this.usuallyRegexOptions.map((function(t){return{type:t.type,title:t.title,options:t.options.filter((function(t){return t.title.indexOf(e)>-1}))}})).filter((function(e){return e.options.length>0})):this.usuallyRegexOptions}},mounted:function(){this.filterRegex=this.usuallyRegexOptions}}},"7dfb":function(e,t,n){"use strict";n.r(t),t["default"]={component:"ACollapse",icon:"custom-zhage",name:"折叠面板",props:{expandIconPosition:{type:"radio",desc:"箭头图标位置",options:[{value:"left",label:"左侧"},{value:"right",label:"右侧"}]},group:{type:"checkGroup",desc:"其他",options:[{value:"bordered",label:"带边框风格"},{value:"accordion",label:"手风琴模式"}]}},initProps:{bordered:!0,accordion:!1,expandIconPosition:"left"},itemProps:{name:{type:"input",desc:"标题"},extraIcon:{type:"icon-tip",desc:"面板右上角的图标",help:"可配合图标描述信息提供业务的详细说明"},group:{type:"checkGroup",desc:"其他",options:[{value:"disabled",label:"禁用该面板"},{value:"showArrow",label:"显示箭头"}]}},initItemProps:{disabled:!1,showArrow:!0}}},"80c4":function(e,t){e.exports=VueDraggableResizable},"818a":function(e,t,n){},"86c6":function(e,t,n){},"8a79":function(e,t,n){"use strict";var o=n("3fee"),a=n.n(o);a.a},"8afe":function(e,t,n){},"8bbf":function(e,t){e.exports=Vue},"935c":function(e,t,n){"use strict";var o=n("1d92"),a=n.n(o);a.a},"944a":function(e,t,n){},9609:function(e,t,n){"use strict";n.r(t);var o=n("5530"),a=n("17d7");t["default"]={component:"AInputPassword",icon:"custom-mima",name:"密码输入框",props:Object(o["a"])({},{size:a["c"],maxLength:a["a"],placeholder:a["b"]},{group:{type:"checkGroup",desc:"其他",options:[{value:"disabled",label:"禁用"},{value:"allowClear",label:"显示清除按钮"},{value:"visibilityToggle",label:"显示密码与明文切换按钮"}]}}),initProps:{visibilityToggle:!0,disabled:!1,allowClear:!1}}},9675:function(e,t,n){},"994d":function(e,t,n){"use strict";var o=n("818a"),a=n.n(o);a.a},"9ff3":function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("5530"),a=n("336b"),i=n("17d7");t["default"]={component:a["a"].name,icon:"custom-danhangshurukuang",name:"文本输入框",props:Object(o["a"])({},{size:i["c"],maxLength:i["a"],placeholder:i["b"]},{prefix:{type:"icon-tip",desc:"前缀图标",help:"可用于装饰或区分输入框"},suffix:{type:"icon-tip",desc:"后缀图标",help:"可配合图标描述信息提供业务的详细说明"},group:{type:"checkGroup",desc:"其他",options:[{value:"disabled",label:"禁用"},{value:"allowClear",label:"显示清除按钮"}]}}),initProps:{size:"default",disabled:!1,allowClear:!1}}},a85c:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("e808"),a=n("17d7");t["default"]={component:o["a"].name,icon:"custom-gongju",name:"图标选择器",props:{placeholder:a["b"],group:{type:"checkGroup",desc:"其他",options:[{value:"disabled",label:"禁用"},{value:"allowClear",label:"显示清除按钮"}]}},initProps:{disabled:!1,allowClear:!1}}},af6c:function(e,t,n){"use strict";var o=n("df82"),a=n.n(o);a.a},b8fd:function(e,t,n){},c31f:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("8bbf"),a=n.n(o),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ant-dynamic-form-container",attrs:{id:"app"}},[e._m(0),n("div",{staticClass:"main"},[n("ant-dynamic-form",{staticStyle:{height:"100%"}})],1),e._m(1)])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"logo"},[n("a",{attrs:{href:"https://github.com/calebman/ant-dynamic-form"}},[n("img",{attrs:{src:"logo.svg"}})])]),n("div",{staticClass:"menus"},[n("span",[e._v("测试")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("a",{attrs:{href:"https://github.com/calebman"}},[e._v("Created by JianhuiChen")])])}],l={name:"App"},s=l,c=(n("3880"),n("2877")),u=Object(c["a"])(s,i,r,!1,null,"59c8f3b0",null),p=u.exports,d=(n("b0c0"),n("4e72")),m=n.n(d),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ant-dynamic-form"},[n("div",{staticClass:"left-container",style:{width:e.componentPanelWidth+"px"}},[n("vue-draggable-resizable",{ref:"componentPanelWidth",staticClass:"panel-draggable-handle component-panel-draggable",attrs:{parent:"",z:9999,axis:"x",resizable:!1},on:{"hook:mounted":function(t){return e.handleDragMounted("componentPanelWidth")},dragging:function(t){return e.handleWidthDrag(t,"componentPanelWidth")}}}),n("component-panel",{on:{"on-element-select":e.handleEleSelect}})],1),n("div",{staticClass:"center-container"},[n("div",{staticClass:"tools-panel"},[n("tools-panel",{on:{"on-setting-change":e.handleSettingChange,"on-mode-change":e.handleModeChange,"on-clear":e.handleClearPanel}})],1),n("div",{staticClass:"editor-panel"},[n("editor-panel",{on:{"on-element-add":e.handleEleAdd,"on-element-select":e.handleEleSelect,"on-element-copy":e.handleEleCopy,"on-element-remove":e.handleEleRemove}})],1)]),n("div",{staticClass:"right-container",style:{width:e.settingPanelWidth+"px"}},[n("vue-draggable-resizable",{ref:"settingPanelWidth",staticClass:"panel-draggable-handle setting-panel-draggable",attrs:{parent:"",z:9999,axis:"x",resizable:!1},on:{"hook:mounted":function(t){return e.handleDragMounted("settingPanelWidth")},dragging:function(t){return e.handleWidthDrag(t,"settingPanelWidth")}}}),n("setting-panel")],1)])},h=[],_=(n("4160"),n("a434"),n("159b"),n("53ca"));n("c975"),n("3410"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0");function b(e){var t=[],n=[],o=function e(o){if(null===o)return null;if("object"!==Object(_["a"])(o))return o;var a,i;v(o,"Array")?a=[]:v(o,"RegExp")?(a=new RegExp(o.source,g(o)),o.lastIndex&&(a.lastIndex=o.lastIndex)):v(o,"Date")?a=new Date(o.getTime()):(i=Object.getPrototypeOf(o),a=Object.create(i));var r=t.indexOf(o);if(-1!==r)return n[r];for(var l in t.push(o),n.push(a),o)a[l]=e(o[l]);return a};return o(e)}function g(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}function v(e,t){if("object"!==Object(_["a"])(e))return!1;var n,o=Object.prototype.toString.call(e);switch(t){case"Array":n="[object Array]"===o;break;case"Date":n="[object Date]"===o;break;case"RegExp":n="[object RegExp]"===o;break;default:n=!1}return n}var y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-panel"},[n("vue-scroll",{attrs:{ops:{bar:{background:"#c1c1c1",size:"6px"}}}},[n("div",{staticClass:"form-editor-compoents-list"},[n("component-grid",{attrs:{title:"基础组件",componentList:e.basicComponents}}),n("component-grid",{attrs:{title:"布局组件",componentList:e.layoutComponents}})],1),n("a-collapse",{staticClass:"form-component-outlie"},[n("a-collapse-panel",{key:"1",staticClass:"outline-panel",attrs:{header:"大纲"}},[n("component-outline",e._g({},e.$listeners))],1)],1)],1)],1)},x=[],k=(n("99af"),n("d81d"),n("ddb0"),n("232a")),C=k.keys().map((function(e){return Object.assign(k(e).default,{type:"layout",isLayoutComponent:!0})}));k=n("d0b9");var w=k.keys().map((function(e){return Object.assign(k(e).default,{type:"basic",isFormComponent:!0})})),E={computed:{allComponents:function(){return[].concat(this.layoutComponents,this.basicComponents)}},data:function(){return{layoutComponents:C,basicComponents:w,basicComponents1:[{type:"basic",component:"AInput",icon:"icon-input",name:"文本输入框"},{type:"basic",component:"AInputNumber",icon:"icon-number",name:"数字输入框"},{type:"basic",component:"ARadio",icon:"icon-radio-active",name:"单选"},{type:"basic",component:"ACheckbox",icon:"icon-check-box",name:"多选"},{type:"basic",component:"ADatePicker",icon:"icon-date",name:"时间选择器"},{type:"basic",component:"ARate",icon:"icon-pingfen1",name:"评分"},{type:"basic",component:"ASelect",icon:"icon-select",name:"选择框"},{type:"basic",component:"ASwitch",icon:"icon-switch",name:"切换"},{type:"basic",component:"ASlider",icon:"icon-slider",name:"滑块"}],otherComponents1:[{type:"other",component:"AFormModel",icon:"icon-ad-icon-tooltip",name:"表单"},{type:"other",component:"ACol",icon:"icon-grid-",name:"列"},{type:"other",component:"ATabPanel",icon:"icon-grid-",name:"页签"}]}}},S=n("49c2"),O=n.n(S),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compoents-grid"},[e.componentList.length?[n("div",{staticClass:"widget-cate"},[e._v(e._s(e.title))]),n("draggable",e._b({attrs:{tag:"ul",list:e.componentList,move:function(){return!0},clone:e.handleCloneElement}},"draggable",e.dragOptions,!1),e._l(e.componentList,(function(t,o){return n("li",{key:o,staticClass:"form-edit-widget-label"},[n("a",[n("merge-icon",{staticClass:"icon",attrs:{type:t.icon}}),n("span",[e._v(e._s(t.name))])],1)])})),0)]:e._e()],2)},j=[],I=n("5530"),$=n("289a"),D=n.n($),A=n("e6eb"),M={inject:["generatorKey","getFormSetting","getFormValue","getCurSelectEle","getModeFromParent"],computed:{formSetting:function(){return this.getFormSetting()},formValue:function(){return this.getFormValue()},curSelectEle:function(){return this.getCurSelectEle()},mode:function(){return this.getModeFromParent()},isPreviewStatus:function(){return"preview"===this.mode},isEditStatus:function(){return"edit"===this.mode}}},T={name:"ComponentGrid",mixins:[M],components:{Draggable:D.a,MergeIcon:A["a"]},props:{title:{type:String,default:""},componentList:{type:Array,default:function(){return[]}}},computed:{dragOptions:function(){return{group:{name:"element",pull:"clone",put:!1},sort:!1,ghostClass:"drag-ghost"}}},methods:{handleCloneElement:function(e){var t=e.name,n=e.type,o=e.component,a=e.isFormComponent,i=e.isLayoutComponent,r=e.initProps,l=e.initItemProps,s=this.generatorKey(o),c={_key:s,type:n,component:o,children:[],formOptions:{},options:Object(I["a"])({},r)};if(a&&(c.formOptions={prop:s,label:this.generatorKey(t),required:!1,colon:!0,labelAlign:"right"}),i)for(var u=0;u<2;u++)c.children.push({_key:this.generatorKey("LayoutItem"),component:"LayoutItem",options:Object(I["a"])({name:"LayoutItem".concat(u)},l),children:[]});return c}}},L=T,R=(n("6290"),Object(c["a"])(L,P,j,!1,null,"27bd9fc0",null)),V=R.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-outline"},[n("div",{staticStyle:{padding:"8px"}},[n("a-input-search",{attrs:{placeholder:"搜索组件"},on:{change:e.handleSearch}})],1),n("a-tree",{attrs:{treeData:e.treeData,selectedKeys:e.selectedKeys,showIcon:"",defaultExpandAll:"",expandedKeys:e.expandedKeys,autoExpandParent:e.autoExpandParent},on:{expand:e.handleExpand,select:e.handleSelect},scopedSlots:e._u([{key:"custom-icon",fn:function(e){var t=e.dataRef;return[n("merge-icon",{attrs:{type:t.icon}})]}},{key:"custom-title",fn:function(t){var o=t.title;return[o.indexOf(e.searchValue)>-1?n("span",[e._v(" "+e._s(o.substr(0,o.indexOf(e.searchValue)))+" "),n("span",{staticStyle:{color:"#f50"}},[e._v(e._s(e.searchValue))]),e._v(" "+e._s(o.substr(o.indexOf(e.searchValue)+e.searchValue.length))+" ")]):n("span",[e._v(e._s(o))])]}}])})],1)},q=[],K=(n("4de4"),n("7db0"),n("45fc"),{name:"ComponentOutline",mixins:[E,M],components:{MergeIcon:A["a"]},data:function(){return{expandedKeys:[],searchValue:"",autoExpandParent:!0}},computed:{treeData:function(){return this.transfer([this.formSetting])},treeDataList:function(){return this.generateList(this.treeData)},selectedKeys:function(){return this.curSelectEle?[this.curSelectEle._key]:[]}},methods:{transfer:function(e){var t=this;return e.map((function(e){var n,o=t.allComponents.find((function(t){return t.component===e.component})),a=o?o.name:e.component,i=e.options||{};switch(e.component){case"ATabPanel":n=i.tab;break;default:n=i.label;break}var r={key:e._key,title:n||a,origin:e};return r.icon=o?o.icon:"question",r.scopedSlots={icon:"custom-icon",title:"custom-title"},e.children&&e.children.length>0&&(r.children=t.transfer(e.children)),r}))},generateList:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){n.push({key:e.key,title:e.title}),e.children&&t.generateList(e.children,n)})),n},handleSelect:function(e,t){var n=t.node,o=n.dataRef.origin;o.type&&this.$emit("on-element-select",o)},handleExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},handleSearch:function(e){var t=this,n=e.target.value,o=this.treeDataList.map((function(e){return e.title.indexOf(n)>-1?W(e.key,t.treeData):null})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));Object.assign(this,{expandedKeys:o,searchValue:n,autoExpandParent:!0})}}}),W=function e(t,n){for(var o,a=0;a<n.length;a++){var i=n[a];i.children&&(i.children.some((function(e){return e.key===t}))?o=i.key:e(t,i.children)&&(o=e(t,i.children)))}return o},F=K,U=Object(c["a"])(F,z,q,!1,null,"b4ae2cdc",null),B=U.exports,N={name:"ComponentPanel",mixins:[E],components:{VueScroll:O.a,ComponentGrid:V,ComponentOutline:B},data:function(){return{operaTab:"component",operaTabs:[{value:"component",icon:"bank",label:"组件"},{value:"outline",icon:"bars",label:"大纲"}]}},mounted:function(){}},G=N,Z=(n("935c"),Object(c["a"])(G,y,x,!1,null,null,null)),J=Z.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-scroll",{staticClass:"form-model-container",attrs:{ops:{bar:{background:"#c1c1c1",size:"6px"}}}},[n("a-form-model",e._b({staticClass:"form-model",attrs:{model:e.formValue}},"a-form-model",e.formSetting.options,!1),[n("nested-element",e._g({staticClass:"root-element",attrs:{list:e.formSetting.children}},e.$listeners),[n("div",{staticClass:"empty-container",attrs:{slot:"empty"},slot:"empty"},[n("a-empty",{staticClass:"empty-panel",attrs:{image:"https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original",imageStyle:{height:"90px"}}},[n("span",{staticClass:"text",attrs:{slot:"description"},slot:"description"},[e._v("从左侧拖拽组件构建表单")])])],1)])],1)],1)},X=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("draggable",e._b({class:{"drag-element-content":e.isEditStatus},attrs:{list:e.list,tag:"div"},on:{add:e.handleElementAdd}},"draggable",e.dragOptions,!1),[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showEmptyTip,expression:"showEmptyTip"}],staticClass:"empty-container",attrs:{slot:"header",role:"group"},slot:"header"},[e.$slots.empty?e._t("empty"):n("div",{staticClass:"empty"},[e._v("从左侧拖拽组件")])],2),e._l(e.list,(function(t,o){return n("div",{key:t._key,staticClass:"element",on:{click:function(n){return n.stopPropagation(),e.handleEleClick(t)}}},[n("div",{class:{active:e.isSelectStatus(t),"editor-view-item":e.isEditStatus}},["layout"==t.type?[n("element-layout",{attrs:{element:t},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.item;return n("nested-element",e._g({attrs:{list:o.children}},e.$listeners))}}],null,!0)})]:n("a-form-model-item",e._b({},"a-form-model-item",t.formOptions,!1),[n(t.component,e._b({tag:"component",model:{value:e.formValue[t.formOptions.prop],callback:function(n){e.$set(e.formValue,t.formOptions.prop,n)},expression:"formValue[element.formOptions.prop]"}},"component",t.options,!1))],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelectStatus(t),expression:"isSelectStatus(element)"}]},[n("div",{staticClass:"view-remove"},[n("merge-icon",{attrs:{type:"copy"},on:{click:function(n){return n.stopPropagation(),e.handleComponentCopy(t,o)}}}),n("merge-icon",{attrs:{type:"delete"},on:{click:function(n){return n.stopPropagation(),e.handleComponentDelete(t,o)}}})],1),n("div",{staticClass:"view-drag"},[n("div",{staticClass:"triangle"}),n("div",{staticClass:"desc"},[n("merge-icon",{staticClass:"drag-widget",attrs:{type:"drag"}})],1)])])],2)])}))],2)},Y=[],ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",e._b({},"a-row",e.element.options,!1),e._l(e.element.children,(function(t){return n("a-col",e._b({key:t._key,attrs:{span:t.options.span||24/e.element.children.length}},"a-col",t.options,!1),[e._t("default",null,{item:t})],2)})),1)},te=[],ne={name:"GridLayout",props:{element:{type:Object,default:function(){return{}}}}},oe=ne,ae=Object(c["a"])(oe,ee,te,!1,null,null,null),ie=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tabs",e._b({},"a-tabs",e.element.options,!1),e._l(e.element.children,(function(t){return n("a-tab-pane",e._b({key:t._key},"a-tab-pane",t.options,!1),[n("template",{slot:"tab"},[t.options.tabIcon?n("a-tooltip",{attrs:{placement:"topLeft",title:t.options.tabIcon.tip}},[n("merge-icon",{staticStyle:{"margin-left":"8px"},attrs:{type:t.options.tabIcon.icon}})],1):e._e(),e._v(" "+e._s(t.options.name)+" ")],1),e._t("default",null,{item:t})],2)})),1)},le=[],se={name:"TabsLayout",components:{MergeIcon:A["a"]},props:{element:{type:Object,default:function(){return{}}}}},ce=se,ue=Object(c["a"])(ce,re,le,!1,null,null,null),pe=ue.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-collapse",e._b({},"a-collapse",e.element.options,!1),e._l(e.element.children,(function(t){return n("a-collapse-panel",e._b({key:t._key,attrs:{header:t.options.name}},"a-collapse-panel",t.options,!1),[n("template",{slot:"extra"},[t.options.extraIcon?n("a-tooltip",{attrs:{placement:"topLeft",title:t.options.extraIcon.tip}},[n("merge-icon",{attrs:{type:t.options.extraIcon.icon}})],1):e._e()],1),e._t("default",null,{item:t})],2)})),1)},me=[],fe={name:"CollapseLayout",components:{MergeIcon:A["a"]},props:{element:{type:Object,default:function(){return{}}}}},he=fe,_e=Object(c["a"])(he,de,me,!1,null,null,null),be=_e.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"steps-layout"},[n("a-steps",e._b({attrs:{type:"navigation"},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},"a-steps",e.element.options,!1),e._l(e.element.children,(function(t){return n("a-step",e._b({key:t._key,attrs:{title:t.options.name}},"a-step",t.options,!1),[t.options.customIcon?n("merge-icon",{attrs:{slot:"icon",type:t.options.customIcon},slot:"icon"}):e._e()],1)})),1),e._l(e.element.children,(function(t,o){return n("div",{directives:[{name:"show",rawName:"v-show",value:o===e.currentStep,expression:"index === currentStep"}],key:t._key,staticClass:"container"},[e._t("default",null,{item:t})],2)}))],2)},ve=[],ye={name:"StepsLayout",components:{MergeIcon:A["a"]},props:{element:{type:Object,default:function(){return{}}}},data:function(){return{currentStep:0}}},xe=ye,ke=(n("2e9f"),Object(c["a"])(xe,ge,ve,!1,null,"608d47b0",null)),Ce=ke.exports,we={functional:!0,render:function(e,t){var n=t.props.element.component;switch(n){case"ARow":return e(ie,t);case"ATabs":return e(pe,t);case"ACollapse":return e(be,t);case"ASteps":return e(Ce,t)}}},Ee={name:"NestedElement",mixins:[M],components:{Draggable:D.a,ElementLayout:we,MergeIcon:A["a"]},props:{list:{type:Array,default:function(){return null}},dragElementClass:{type:String,default:"drag-element-group"}},computed:{dragOptions:function(){return{animation:200,group:this.isEditStatus?"element":"disabled-element",ghostClass:"drag-ghost",handle:".drag-widget"}},showEmptyTip:function(){return this.isEditStatus&&(!this.list||0===this.list.length)},activeSelectStatus:function(){return this.isEditStatus&&this.isSelect}},methods:{isSelectStatus:function(e){return!(!this.isEditStatus||!this.curSelectEle||e!==this.curSelectEle)},handleEleClick:function(e){this.isEditStatus&&e!==this.curSelectEle&&this.$emit("on-element-select",e)},handleComponentCopy:function(e,t){this.$emit("on-element-copy",this.list,e,t)},handleComponentDelete:function(e,t){this.$emit("on-element-remove",this.list,e,t)},handleElementAdd:function(e){var t=e.newIndex;this.$emit("on-element-add",this.list[Math.max(t-1,0)])}}},Se=Ee,Oe=(n("4174"),Object(c["a"])(Se,H,Y,!1,null,"a85b6642",null)),Pe=Oe.exports,je={name:"EditorPanel",mixins:[M],components:{VueScroll:O.a,NestedElement:Pe},mounted:function(){document.body.ondrop=function(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;t&&(e.preventDefault(),e.stopPropagation())}}},Ie=je,$e=(n("e421"),Object(c["a"])(Ie,Q,X,!1,null,"810f9ac8",null)),De=$e.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-panel"},[n("menu-tab",{attrs:{items:e.configTabs},model:{value:e.configTab,callback:function(t){e.configTab=t},expression:"configTab"}}),null===e.curSelectEle?n("div",{staticClass:"no-ele-content"},[e._m(0)]):n("vue-scroll",{staticClass:"config-content",attrs:{ops:{bar:{background:"#c1c1c1",size:"6px"}}}},[e.showFormConfig?n("form-item-config",{directives:[{name:"show",rawName:"v-show",value:"form"===e.configTab,expression:"configTab === 'form'"}]}):e._e(),e.showLayoutConfig?n("layout-item-config",{directives:[{name:"show",rawName:"v-show",value:"layout"===e.configTab,expression:"configTab === 'layout'"}]}):e._e(),e.showComponentConfig?n("component-config",{directives:[{name:"show",rawName:"v-show",value:"component"===e.configTab,expression:"configTab === 'component'"}]}):e._e()],1)],1)},Me=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inner"},[n("div",[e._v("选择一个组件进行配置")]),n("div",[e._v("左侧可拖动调节宽度")])])}],Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-tabs"},e._l(e.items,(function(t){return n("div",{key:t.value,staticClass:"tab-item",class:{active:e.value===t.value},on:{click:function(n){return e.handleItemClick(t)}}},[t.icon?n("merge-icon",{attrs:{type:t.icon}}):e._e(),n("span",{class:{label:t.icon}},[e._v(e._s(t.label))])],1)})),0)},Le=[],Re={name:"MenuTab",components:{MergeIcon:A["a"]},props:{value:{type:String,default:null},items:{type:Array,default:function(){return[]}}},methods:{handleItemClick:function(e){this.$emit("input",e.value)}}},Ve=Re,ze=(n("994d"),Object(c["a"])(Ve,Te,Le,!1,null,"467a474e",null)),qe=ze.exports,Ke=qe,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("config-form",{attrs:{formItems:e.formItems},model:{value:e.curSelectEle.formOptions,callback:function(t){e.$set(e.curSelectEle,"formOptions",t)},expression:"curSelectEle.formOptions"}})},Fe=[],Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-model",{staticClass:"config-form",attrs:{layout:"vertical",model:e.formValue}},e._l(e.formItems,(function(t){return n("a-form-model-item",{key:t.prop,attrs:{prop:t.prop,rules:t.rules,label:t.desc,extra:t.help}},["radio"===t.type?n("a-radio-group",{attrs:{buttonStyle:"solid"},model:{value:e.formValue[t.prop],callback:function(n){e.$set(e.formValue,t.prop,n)},expression:"formValue[item.prop]"}},e._l(t.options,(function(o){return n("a-radio-button",{key:t.prop+o.value,attrs:{value:o.value}},[e._v(e._s(o.label))])})),1):"select"===t.type?n("a-select",{model:{value:e.formValue[t.prop],callback:function(n){e.$set(e.formValue,t.prop,n)},expression:"formValue[item.prop]"}},e._l(t.options,(function(o){return n("a-select-option",{key:t.prop+o.value,attrs:{value:o.value}},[e._v(e._s(o.label))])})),1):"checkGroup"===t.type?n("div",e._l(t.options,(function(t){return n("a-checkbox",{key:t.value,staticStyle:{"margin-top":"8px"},model:{value:e.formValue[t.value],callback:function(n){e.$set(e.formValue,t.value,n)},expression:"formValue[opt.value]"}},[e._v(e._s(t.label))])})),1):"icon-tip"===t.type?n("tip-icon-picker",{attrs:{placeholder:t.placeholder,allowClear:""},model:{value:e.formValue[t.prop],callback:function(n){e.$set(e.formValue,t.prop,n)},expression:"formValue[item.prop]"}}):"icon"===t.type?n("icon-picker",{attrs:{placeholder:t.placeholder,allowClear:""},model:{value:e.formValue[t.prop],callback:function(n){e.$set(e.formValue,t.prop,n)},expression:"formValue[item.prop]"}}):"rule"===t.type?n("form-rules-gen",{model:{value:e.formValue[t.prop],callback:function(n){e.$set(e.formValue,t.prop,n)},expression:"formValue[item.prop]"}}):"number"===t.type?n("a-input-number",{staticClass:"input-number",attrs:{value:e.formValue[t.prop],placeholder:t.placeholder,min:1},on:{change:function(n){return e.handleNumberChange(n,t.prop)}}}):n("a-input",{attrs:{placeholder:t.placeholder},model:{value:e.formValue[t.prop],callback:function(n){e.$set(e.formValue,t.prop,n)},expression:"formValue[item.prop]"}})],1)})),1)},Be=[],Ne=n("e808"),Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tip-icon-picker"},[n("icon-picker",e._b({attrs:{placeholder:"请选择图标"},model:{value:e.valueObj.icon,callback:function(t){e.$set(e.valueObj,"icon",t)},expression:"valueObj.icon"}},"icon-picker",e.$attrs,!1)),n("a-input",{directives:[{name:"show",rawName:"v-show",value:e.valueObj.icon,expression:"valueObj.icon"}],staticClass:"tip-input",attrs:{allowClear:"",placeholder:"此处可给图标添加提示信息"},model:{value:e.valueObj.tip,callback:function(t){e.$set(e.valueObj,"tip",t)},expression:"valueObj.tip"}},[n("a-tooltip",{attrs:{slot:"suffix",placement:"topRight",title:"提示信息将在鼠标移入图标时出现，未设置提示时不会显示"},slot:"suffix"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1)],1)],1)},Ze=[],Je={name:"TipIconPicker",components:{IconPicker:Ne["a"]},props:{value:{type:Object,default:function(){return{}}}},data:function(){return{valueObj:{icon:null,tip:null}}},watch:{value:{handler:function(e){this.valueObj=e},deep:!0,immediate:!0},valueObj:{handler:function(e){this.$emit("input",e)},deep:!0}}},Qe=Je,Xe=(n("0b43"),Object(c["a"])(Qe,Ge,Ze,!1,null,"3c6f1134",null)),He=Xe.exports,Ye=He,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-rules-generator"},[n("a-checkbox",{staticClass:"required-check",model:{value:e.required,callback:function(t){e.required=t},expression:"required"}},[e._v("是否必填")]),n("a-list",{staticClass:"rule-list",attrs:{itemLayout:"horizontal",size:"small",dataSource:e.filterRuleData,locale:{emptyText:"暂无校验规则"}},scopedSlots:e._u([{key:"renderItem",fn:function(t,o){return n("a-list-item",{},[n("a-tooltip",{attrs:{slot:"actions",title:"删除此规则"},slot:"actions"},[n("a-icon",{staticClass:"close-action",attrs:{type:"delete"},on:{click:function(n){return e.handleRuleDelete(t,o)}}})],1),n("a-list-item-meta",[n("edit-span",{attrs:{slot:"title",spanStyle:{color:"#1890ff"},component:e.RuleInput},slot:"title",model:{value:t.pattern,callback:function(n){e.$set(t,"pattern",n)},expression:"item.pattern"}}),n("edit-span",{attrs:{slot:"description",allowClear:"",placeholder:"请输入验证失败的提示信息"},slot:"description",model:{value:t.message,callback:function(n){e.$set(t,"message",n)},expression:"item.message"}})],1)],1)}}])},[n("div",{staticClass:"rule-footer-content",attrs:{slot:"footer"},slot:"footer"},[n("a-button",{attrs:{block:"",type:"primary",ghost:""},on:{click:e.handleRuleAdd}},[e._v("新增校验规则")])],1)])],1)},tt=[],nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"span-wapper"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.isPreviewStatus,expression:"isPreviewStatus"}],staticClass:"span-text",style:e.spanStyle,on:{click:e.handleSpanClick}},[e._v(e._s(e.componentValue))]),n(e.component,e._b({directives:[{name:"show",rawName:"v-show",value:!e.isPreviewStatus,expression:"!isPreviewStatus"}],tag:"component",on:{blur:e.changeToPreview,pressEnter:e.changeToPreview},model:{value:e.componentValue,callback:function(t){e.componentValue=t},expression:"componentValue"}},"component",e.$attrs,!1))],1)},ot=[],at=(n("a9e3"),{name:"EditSpan",components:{},props:{value:{type:[String,Number,Object,RegExp],default:null},component:{type:[String,Object],default:"AInput"},spanStyle:{type:Object,default:function(){return{}}}},data:function(){return{showSpan:!1,componentValue:null}},computed:{isPreviewStatus:function(){return this.showSpan&&this.componentValue}},watch:{value:{handler:function(e){this.componentValue=e},deep:!0,immediate:!0},componentValue:{handler:function(e){this.$emit("change",e),this.$emit("input",e)},deep:!0}},methods:{changeToPreview:function(){this.showSpan=!0},handleSpanClick:function(){this.showSpan=!1}}}),it=at,rt=(n("0f06"),Object(c["a"])(it,nt,ot,!1,null,"b960e308",null)),lt=rt.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-auto-complete",e._g({attrs:{showSearch:"",allowClear:"",placeholder:"请输入校验正则表达式",optionLabelProp:"value"},on:{search:e.handleSearch},model:{value:e.ruleValue,callback:function(t){e.ruleValue=t},expression:"ruleValue"}},e.$listeners),[n("template",{slot:"dataSource"},e._l(e.filterRegex,(function(t){return n("a-select-opt-group",{key:t.type},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.title))]),e._l(t.options,(function(t){return n("a-select-option",{key:t.regex,attrs:{value:t.regex}},[n("span",{staticClass:"rule-title"},[e._v(e._s(t.title))]),n("span",{staticClass:"rule-regex"},[e._v(e._s(t.regex))])])}))],2)})),1)],2)},ct=[],ut=n("7c8d"),pt=ut["a"],dt=(n("0e0b"),Object(c["a"])(pt,st,ct,!1,null,"1df2c408",null)),mt=dt.exports,ft={name:"FormRulesGen",mixins:[M],components:{EditSpan:lt},props:{value:{type:Array,default:function(){return[]}}},data:function(){return{RuleInput:mt,required:!1,requiredRule:null,ruleData:[]}},computed:{filterRuleData:function(){return this.ruleData.filter((function(e){return void 0===e.required}))}},watch:{value:{handler:function(e){this.ruleData=e},deep:!0,immediate:!0},ruleData:{handler:function(e){e.some((function(e){return e.required}))?this.required=!0:this.required=!1,this.$emit("change",e),this.$emit("input",e)},deep:!0},required:function(e){var t=this.ruleData.indexOf(this.requiredRule);t>-1&&this.ruleData.splice(t,1),e&&(this.requiredRule={trigger:["change","blur"],required:!0,message:"".concat(this.curSelectEle.formOptions.label,"必须填写")},this.ruleData.push(this.requiredRule))}},methods:{handleRuleAdd:function(){this.ruleData.push({pattern:"",message:""})},handleRuleDelete:function(e){var t=this.ruleData.indexOf(e);t>-1&&this.ruleData.splice(t,1)}}},ht=ft,_t=(n("6215"),Object(c["a"])(ht,et,tt,!1,null,"a13c607a",null)),bt=_t.exports,gt=bt,vt={name:"ConfigForm",components:{IconPicker:Ne["a"],TipIconPicker:Ye,FormRulesGen:gt},props:{value:{type:Object,default:function(){return{}}},formItems:{type:Array,default:function(){return[]}}},data:function(){return{formValue:{}}},watch:{value:{handler:function(e){this.formValue=e},immediate:!0,deep:!0},formValue:{handler:function(e){this.$emit("input",e)},deep:!0}},methods:{handleNumberChange:function(e,t){""===e&&this.$set(this.formValue,t,null),/^[1-9]\d*$/.test(e)&&this.$set(this.formValue,t,e)}}},yt=vt,xt=(n("af6c"),Object(c["a"])(yt,Ue,Be,!1,null,"ab9d1f72",null)),kt=xt.exports,Ct=kt,wt={name:"FormItemConfig",mixins:[M],components:{ConfigForm:Ct},data:function(){return{formItems:[{prop:"label",type:"input",desc:"标签文本",placeholder:"标签文本位于表单项的左侧"},{prop:"prop",type:"input",desc:"唯一标识",rules:[{required:!0,message:"唯一标识必须填写"}],placeholder:"表单提交的唯一标识"},{prop:"help",type:"input",desc:"提示文案",placeholder:"提示文案位于表单项的下方"},{prop:"labelAlign",type:"radio",desc:"对齐方式",options:[{value:"left",label:"左对齐"},{value:"right",label:"右对齐"}]},{prop:"group",type:"checkGroup",desc:"其他",options:[{value:"colon",label:"显示冒号"}]},{prop:"rules",type:"rule",desc:"校验规则"}]}}},Et=wt,St=Object(c["a"])(Et,We,Fe,!1,null,"42b46cb7",null),Ot=St.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-item-config"},[e.curSelectEle.children&&e.curSelectEle.children.length>0?n("a-collapse",{attrs:{accordion:""}},e._l(e.curSelectEle.children,(function(t){return n("a-collapse-panel",{key:t._key,attrs:{header:t.options.name}},[e.formItems.length>0?n("config-form",{staticStyle:{padding:"0"},attrs:{formItems:e.formItems},model:{value:t.options,callback:function(n){e.$set(t,"options",n)},expression:"item.options"}}):n("a-empty",{attrs:{description:"暂无可配置项"}}),n("a-icon",{staticClass:"close-action",attrs:{slot:"extra",type:"delete"},on:{click:function(n){return e.handleItemRemove(t)}},slot:"extra"})],1)})),1):n("a-empty",{staticClass:"empty-layout",attrs:{description:"暂无布局项"}}),n("div",{staticClass:"add-action-btn"},[n("a-button",{attrs:{type:"primary",ghost:"",block:""},on:{click:e.handleItemAdd}},[e._v("新增"+e._s(e.curComponentName)+"布局项")])],1)],1)},jt=[],It=(n("4fad"),n("3835")),$t={name:"LayoutItemConfig",mixins:[E,M],components:{ConfigForm:Ct},data:function(){return{formItems:[]}},watch:{curSelectEle:{handler:function(e){this.initForm(e)},immediate:!0}},computed:{curComponentDefine:function(){var e=this;return this.curSelectEle&&this.allComponents.find((function(t){return t.component===e.curSelectEle.component}))},curComponentName:function(){return this.curComponentDefine&&this.curComponentDefine.name}},methods:{handleItemAdd:function(){var e=this.curSelectEle.children,t=e.length;e.splice(t,0,{_key:this.generatorKey("LayoutItem"),component:"LayoutItem",options:Object(I["a"])({name:"LayoutItem".concat(t+1)},this.curComponentDefine.initItemProps),children:[]})},handleItemRemove:function(e){var t=this.curSelectEle.children;t.splice(t.indexOf(e),1)},initForm:function(){var e=[];this.curComponentDefine&&this.curComponentDefine.itemProps&&(e=Object.entries(this.curComponentDefine.itemProps).map((function(e){var t=Object(It["a"])(e,2),n=t[0],o=t[1];return Object.assign(o,{prop:n})}))),this.formItems=e}}},Dt=$t,At=(n("30d2"),Object(c["a"])(Dt,Pt,jt,!1,null,"73dda2d3",null)),Mt=At.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("config-form",{attrs:{formItems:e.formItems},model:{value:e.curSelectEle.options,callback:function(t){e.$set(e.curSelectEle,"options",t)},expression:"curSelectEle.options"}})},Lt=[],Rt={name:"ComponentConfigForm",mixins:[E,M],components:{ConfigForm:Ct},data:function(){return{formItems:[]}},watch:{curSelectEle:{handler:function(e){this.initForm(e)},immediate:!0}},methods:{initForm:function(e){var t=[],n=this.allComponents.find((function(t){return t.component===e.component}));n&&(t=Object.entries(n.props).map((function(e){var t=Object(It["a"])(e,2),n=t[0],o=t[1];return Object.assign(o,{prop:n})}))),this.formItems=t}}},Vt=Rt,zt=Object(c["a"])(Vt,Tt,Lt,!1,null,"132aaee4",null),qt=zt.exports,Kt={name:"SettingPanel",mixins:[M,E],components:{MenuTab:Ke,VueScroll:O.a,FormItemConfig:Ot,LayoutItemConfig:Mt,ComponentConfig:qt},computed:{curComponentDefine:function(){var e=this;return this.curSelectEle&&this.allComponents.find((function(t){return t.component===e.curSelectEle.component}))},showFormConfig:function(){return this.curComponentDefine&&this.curComponentDefine.isFormComponent},showLayoutConfig:function(){return this.curComponentDefine&&this.curComponentDefine.isLayoutComponent},showComponentConfig:function(){return this.curSelectEle},configTabs:function(){var e={value:"form",icon:"form",label:"表单配置"},t={value:"layout",icon:"form",label:"布局项配置"},n={value:"component",icon:"setting",label:"组件配置"};return this.showLayoutConfig?[t,n]:[e,n]}},watch:{showLayoutConfig:function(e){this.configTab=e?"form":"layout"},curComponentDefine:function(e){e&&(this.configTab=e.isLayoutComponent?"layout":"form")}},data:function(){return{configTab:"layout"}},methods:{handleMenuClick:function(e){var t=e.key;this.currentType=t}}},Wt=Kt,Ft=(n("0544"),Object(c["a"])(Wt,Ae,Me,!1,null,"7689ed7a",null)),Ut=Ft.exports,Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tools-panel"},[n("a-button",{attrs:{icon:"undo",type:"link",size:"small",disabled:0===e.undoStack.size()},on:{click:e.handleUndo}},[e._v("撤回")]),n("a-button",{attrs:{icon:"redo",type:"link",size:"small",disabled:0===e.redoStack.size()},on:{click:e.handleRedo}},[e._v("重做")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-button",{attrs:{icon:"bulb",type:"link",size:"small"}},[e._v("表单提交")]),n("a-button",{attrs:{icon:"search",type:"link",size:"small"}},[e._v("配置查看")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-button",{attrs:{icon:"delete",type:"link",size:"small"},on:{click:e.handleClear}},[e._v("清空")]),n("a-button",{attrs:{icon:"check",type:"link",size:"small"}},[e._v("完成")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-button",{directives:[{name:"show",rawName:"v-show",value:"preview"===e.mode,expression:"mode === 'preview'"}],attrs:{icon:"eye",type:"link",size:"small"},on:{click:function(t){return e.handleModeChange("edit")}}},[e._v("预览模式")]),n("a-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.mode,expression:"mode === 'edit'"}],attrs:{icon:"edit",type:"link",size:"small"},on:{click:function(t){return e.handleModeChange("preview")}}},[e._v("编辑模式")])],1)},Nt=[],Gt={name:"ToolsPanel",mixins:[M],data:function(){return{undoStack:new Zt(1e3),redoStack:new Zt(1e3),historySettingClone:null,stackPushLock:!1}},watch:{formSetting:{handler:function(e){this.stackPushLock?this.stackPushLock=!1:this.undoStack.push(this.historySettingClone),this.historySettingClone=b(e)},deep:!0}},methods:{handleUndo:function(){this.stackPushLock=!0,this.redoStack.push(this.formSetting),this.$emit("on-setting-change",this.undoStack.pop())},handleRedo:function(){this.stackPushLock=!0,this.undoStack.push(this.formSetting),this.$emit("on-setting-change",this.redoStack.pop())},handleClear:function(){this.$emit("on-clear")},handleModeChange:function(e){this.$emit("on-mode-change",e)}},created:function(){this.historySettingClone=b(this.formSetting)}};function Zt(e){this.maxSize=e,this.items=[],this.pop=function(){return this.items.pop()},this.push=function(e){this.size()>=this.maxSize&&this.items.splice(0,1),this.items.push(e)},this.size=function(){return this.items.length},this.peek=function(){return 0===this.size()?null:this.items[this.size()-1]}}var Jt=Gt,Qt=(n("7903"),Object(c["a"])(Jt,Bt,Nt,!1,null,"56bbad19",null)),Xt=Qt.exports,Ht=n("80c4"),Yt=n.n(Ht),en={name:"AntDynamicForm",components:{ComponentPanel:J,EditorPanel:De,SettingPanel:Ut,ToolsPanel:Xt,VueDraggableResizable:Yt.a},props:{value:{type:Object,default:function(){return{_key:"root",component:"AFormModel",options:{labelCol:{span:4},wrapperCol:{span:14}},children:[]}}}},provide:function(){var e=this;return{getModeFromParent:function(){return e.editorMode},getCurSelectEle:function(){return e.curSelectEle},getFormSetting:function(){return e.formSetting},getFormValue:function(){return e.formValue},generatorKey:this.generatorKey}},watch:{value:{handler:function(e){this.formSetting=e},deep:!0,immediate:!0},formSetting:{handler:function(e){this.$emit("change",e),this.$emit("input",e)},deep:!0}},data:function(){return{counter:{},editorMode:"edit",curSelectEle:null,componentPanelWidth:240,settingPanelWidth:320,state:{},formValue:{},formSetting:{}}},methods:{generatorKey:function(e){var t;return t="object"===Object(_["a"])(e)?e.name:e,this.counter[t]?this.counter[t]=++this.counter[t]:this.counter[t]=1,t+this.counter[t]},findElementByKey:function(e,t){for(var n in e){var o=e[n];if(o._key===t)return o;if(o.children&&o.children.length>0)return this.findElementByKey(o.children,t)}},handleSettingChange:function(e){this.formSetting=e,this.curSelectEle&&(this.curSelectEle=this.findElementByKey(e.children,this.curSelectEle._key))},handleEleAdd:function(e){this.curSelectEle=e},handleEleSelect:function(e){this.curSelectEle=e},handleEleCopy:function(e,t,n){var o=this,a=b(t),i=function e(t){t.children&&t.children.length>0&&t.children.forEach((function(t){return e(t)}));var n=o.generatorKey(t.component);t._key=n,t.formOptions&&t.formOptions.prop&&(t.formOptions.prop=n)};i(a),e.push(a),this.curSelectEle=a},handleEleRemove:function(e,t,n){e.splice(n,1)},handleClearPanel:function(){this.formSetting={component:"AFormModel",options:{labelCol:{span:4},wrapperCol:{span:14}},children:[]}},handleDragMounted:function(e){var t=this.$refs[e],n="componentPanelWidth"===e;t.calcDragLimits=function(){return{minLeft:n?0:-160,maxLeft:n?120:0}},t.bounds=t.calcDragLimits()},handleWidthDrag:function(e,t){var n="componentPanelWidth"===t;this.dragOffset=n?e:-e;var o=n?240:320;this[t]=o+this.dragOffset},handleModeChange:function(e){this.editorMode=e}},mounted:function(){}},tn=en,nn=(n("0e2d"),Object(c["a"])(tn,f,h,!1,null,null,null)),on=nn.exports,an=n("336b"),rn={vm:{},install:function(e){e.use(m.a),e.component(on.name,on),e.component(an["a"].name,an["a"]),e.component(Ne["a"].name,Ne["a"])}},ln=rn;a.a.config.productionTip=!1,a.a.use(ln),new a.a({render:function(e){return e(p)}}).$mount("#app")},cd24:function(e,t,n){},cef9:function(e,t,n){},d0b9:function(e,t,n){var o={"./a-icon-input.js":"9ff3","./a-input-password.js":"9609","./icon-selector.js":"a85c"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id="d0b9"},d2dd:function(e,t,n){},df82:function(e,t,n){},e421:function(e,t,n){"use strict";var o=n("b8fd"),a=n.n(o);a.a},e6eb:function(e,t,n){"use strict";n("2ca0");var o=n("2638"),a=n.n(o),i=n("4e72"),r=i["Icon"].createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1764432_hg97dcycug.js"});t["a"]={name:"MergeIcon",props:{symbolPrefix:{type:String,default:"custom-"},type:{type:String,default:null}},computed:{isCustomIcon:function(){return this.type&&this.type.startsWith(this.symbolPrefix)}},render:function(){var e=arguments[0],t={on:this.$listeners,props:Object.assign(this.$attrs,{type:this.type})};return this.isCustomIcon?e(r,a()([{},t])):e(i["Icon"],a()([{},t]))}}},e808:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-dropdown",{ref:"dropdown",attrs:{trigger:["click"],placement:"bottomCenter",disabled:e.disabled},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("a-card",{attrs:{slot:"overlay"},slot:"overlay"},[n("div",{staticClass:"ant-pro-icon-selector",style:{width:e.pickerWidth+"px"}},[n("a-tabs",{on:{change:e.handleTabChange},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.icons,(function(t){return n("a-tab-pane",{key:t.key,attrs:{tab:t.title}},[n("vue-scroll",{staticStyle:{height:"250px"},attrs:{ops:{bar:{background:"#c1c1c1",size:"6px"}}}},[n("ul",e._l(t.icons,(function(o,a){return n("li",{key:t.key+"-"+a,class:{active:e.selectedIcon==o},on:{click:function(t){return e.handleSelectedIcon(o)}}},[n("a-icon",{style:{fontSize:"36px"},attrs:{type:o}})],1)})),0)])],1)})),1)],1)]),n("span",{class:{"icon-picker-select-render":!0,"icon-picker-disabled":this.disabled},on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave}},[e.selectedIcon?n("span",[n("merge-icon",{staticClass:"select-icon",attrs:{type:e.selectedIcon}}),e._v("图标被选中 ")],1):n("span",{staticClass:"placeholder"},[e._v(e._s(e.placeholder))]),n("merge-icon",{staticClass:"picker-select-arrow",style:{fontSize:"16px"},attrs:{type:e.allowIcon,theme:"down"===e.allowIcon?"outlined":"filled"},on:{click:e.handleClear}})],1)],1)},a=[],i=(n("45fc"),[{key:"directional",title:"方向性图标",icons:["step-backward","step-forward","fast-backward","fast-forward","shrink","arrows-alt","down","up","left","right","caret-up","caret-down","caret-left","caret-right","up-circle","down-circle","left-circle","right-circle","double-right","double-left","vertical-left","vertical-right","forward","backward","rollback","enter","retweet","swap","swap-left","swap-right","arrow-up","arrow-down","arrow-left","arrow-right","play-circle","up-square","down-square","left-square","right-square","login","logout","menu-fold","menu-unfold","border-bottom","border-horizontal","border-inner","border-left","border-right","border-top","border-verticle","pic-center","pic-left","pic-right","radius-bottomleft","radius-bottomright","radius-upleft","fullscreen","fullscreen-exit"]},{key:"suggested",title:"提示建议性图标",icons:["question","question-circle","plus","plus-circle","pause","pause-circle","minus","minus-circle","plus-square","minus-square","info","info-circle","exclamation","exclamation-circle","close","close-circle","close-square","check","check-circle","check-square","clock-circle","warning","issues-close","stop"]},{key:"editor",title:"编辑类图标",icons:["edit","form","copy","scissor","delete","snippets","diff","highlight","align-center","align-left","align-right","bg-colors","bold","italic","underline","strikethrough","redo","undo","zoom-in","zoom-out","font-colors","font-size","line-height","colum-height","dash","small-dash","sort-ascending","sort-descending","drag","ordered-list","radius-setting"]},{key:"data",title:"数据类图标",icons:["area-chart","pie-chart","bar-chart","dot-chart","line-chart","radar-chart","heat-map","fall","rise","stock","box-plot","fund","sliders"]},{key:"brand_logo",title:"网站通用图标",icons:["lock","unlock","bars","book","calendar","cloud","cloud-download","code","copy","credit-card","delete","desktop","download","ellipsis","file","file-text","file-unknown","file-pdf","file-word","file-excel","file-jpg","file-ppt","file-markdown","file-add","folder","folder-open","folder-add","hdd","frown","meh","smile","inbox","laptop","appstore","link","mail","mobile","notification","paper-clip","picture","poweroff","reload","search","setting","share-alt","shopping-cart","tablet","tag","tags","to-top","upload","user","video-camera","home","loading","loading-3-quarters","cloud-upload","star","heart","environment","eye","camera","save","team","solution","phone","filter","exception","export","customer-service","qrcode","scan","like","dislike","message","pay-circle","calculator","pushpin","bulb","select","switcher","rocket","bell","disconnect","database","compass","barcode","hourglass","key","flag","layout","printer","sound","usb","skin","tool","sync","wifi","car","schedule","user-add","user-delete","usergroup-add","usergroup-delete","man","woman","shop","gift","idcard","medicine-box","red-envelope","coffee","copyright","trademark","safety","wallet","bank","trophy","contacts","global","shake","api","fork","dashboard","table","profile","alert","audit","branches","build","border","crown","experiment","fire","money-collect","property-safety","read","reconciliation","rest","security-scan","insurance","interation","safety-certificate","project","thunderbolt","block","cluster","deployment-unit","dollar","euro","pound","file-done","file-exclamation","file-protect","file-search","file-sync","gateway","gold","robot","shopping"]},{key:"application",title:"品牌和标识",icons:["android","apple","windows","ie","chrome","github","aliwangwang","dingding","weibo-square","weibo-circle","taobao-circle","html5","weibo","twitter","wechat","youtube","alipay-circle","taobao","skype","qq","medium-workmark","gitlab","medium","linkedin","google-plus","dropbox","facebook","codepen","code-sandbox","amazon","google","codepen-circle","alipay","ant-design","aliyun","zhihu","slack","slack-square","behance","behance-square","dribbble","dribbble-square","instagram","yuque","alibaba","yahoo"]}]),r=n("e6eb"),l=n("49c2"),s=n.n(l),c={name:"IconPicker",components:{VueScroll:s.a,MergeIcon:r["a"]},props:{value:{type:String,default:null},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1}},data:function(){return{visible:!1,pickerWidth:520,selectedIcon:this.value||"",currentTab:"directional",icons:i,allowIcon:"down"}},watch:{value:function(e){this.selectedIcon=e,this.autoSwitchTab()},visible:{handler:function(e){e&&(this.pickerWidth=this.$refs.dropdown.$el.offsetWidth)},immediate:!0}},created:function(){this.value&&this.autoSwitchTab()},methods:{handleSelectedIcon:function(e){this.visible=!1,this.selectedIcon=e,this.$emit("input",e),this.$emit("change",e)},handleTabChange:function(e){this.currentTab=e},autoSwitchTab:function(){var e=this;i.some((function(t){return t.icons.some((function(t){return t===e.value}))&&(e.currentTab=t.key)}))},handleClear:function(){this.allowClear&&this.selectedIcon&&(this.visible=!1,this.selectedIcon=null,this.$emit("input",null),this.$emit("change",null),this.allowIcon="down")},handleMouseEnter:function(){this.allowClear&&(this.allowIcon=this.selectedIcon?"close-circle":"down")},handleMouseLeave:function(){this.allowIcon="down"}}},u=c,p=(n("8a79"),n("2877")),d=Object(p["a"])(u,o,a,!1,null,"1fde70e2",null),m=d.exports;t["a"]=m},f211:function(e,t,n){"use strict";n.r(t);var o=n("17d7");t["default"]={component:"ATabs",icon:"custom-biaoqian",name:"标签页",props:Object.assign({size:o["c"]},{type:{type:"radio",desc:"页签样式",options:[{value:"line",label:"线条"},{value:"card",label:"卡片"},{value:"editable-card",label:"可编辑卡片"}]},tabPosition:{type:"radio",desc:"页签位置",options:[{value:"top",label:"顶部"},{value:"bottom",label:"底部"},{value:"left",label:"左侧"},{value:"right",label:"右侧"}]},animated:{type:"radio",desc:"使用动画",options:[{value:!0,label:"是"},{value:!1,label:"否"}],help:"只有页签位置为顶部、底部时动画有效"}}),initProps:{type:"line",tabPosition:"top",animated:!0,size:"default"},itemProps:{name:{type:"input",desc:"标题"},tabIcon:{type:"icon-tip",desc:"图标",help:"图标显示标签标题左侧，可结合描述信息提供业务的详细说明"},group:{type:"checkGroup",desc:"其他",options:[{value:"disabled",label:"禁用该标签页"}]}},initItemProps:{disabled:!1}}},f6b7:function(e,t,n){}});